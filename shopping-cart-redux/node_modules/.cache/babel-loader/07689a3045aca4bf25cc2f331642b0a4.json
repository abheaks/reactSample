{"ast":null,"code":"import { cartActions } from \"./cart-slice\";\nimport { uiSliceActions } from \"./ui-slice\";\nexport const fetchData = () => {\n  return async dispatch => {\n    const fetchHandler = async () => {\n      const res = await fetch('https://redux-http-2235a-default-rtdb.asia-southeast1.firebasedatabase.app/cartItems.json');\n      const data = await res.json();\n      return data;\n    };\n\n    try {\n      const cartData = await fetchHandler();\n      dispatch(cartActions.replaceData(cartData));\n    } catch (err) {\n      dispatch(uiSliceActions.showNotification({\n        open: true,\n        message: \"Sending request Error\",\n        type: \"Error\"\n      }));\n    }\n  };\n};\nexport const sendCartData = cart => {\n  return async dispatch => {\n    dispatch(uiSliceActions.showNotification({\n      open: true,\n      message: \"Sending request\",\n      type: \"warning\"\n    }));\n\n    const sendRequest = async () => {\n      dispatch(uiSliceActions.showNotification({\n        open: true,\n        message: \"Sending request dab\",\n        type: \"success\"\n      }));\n      const res = await fetch('https://redux-http-2235a-default-rtdb.asia-southeast1.firebasedatabase.app/cartItems.json', {\n        method: \"PUT\",\n        body: JSON.stringify(cart)\n      });\n      const data = await res.json();\n    };\n\n    try {\n      await sendRequest();\n    } catch (err) {\n      dispatch(uiSliceActions.showNotification({\n        open: true,\n        message: \"Sending request Error\",\n        type: \"Error\"\n      }));\n    }\n  };\n};","map":{"version":3,"sources":["/Users/abhijiths/Documents/abheaks/GitHub/reactSample/shopping-cart/Redux-Shopping-Cart-App/src/store/cart-actions.js"],"names":["cartActions","uiSliceActions","fetchData","dispatch","fetchHandler","res","fetch","data","json","cartData","replaceData","err","showNotification","open","message","type","sendCartData","cart","sendRequest","method","body","JSON","stringify"],"mappings":"AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,SAASC,cAAT,QAA+B,YAA/B;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC3B,SAAO,MAAOC,QAAP,IAAoB;AACvB,UAAMC,YAAY,GAAG,YAAY;AAC7B,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,2FAAD,CAAvB;AACA,YAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,aAAOD,IAAP;AACH,KAJD;;AAKA,QAAI;AACA,YAAME,QAAQ,GAAG,MAAML,YAAY,EAAnC;AACAD,MAAAA,QAAQ,CAACH,WAAW,CAACU,WAAZ,CAAwBD,QAAxB,CAAD,CAAR;AACH,KAHD,CAIA,OAAOE,GAAP,EAAY;AACRR,MAAAA,QAAQ,CAACF,cAAc,CAACW,gBAAf,CAAgC;AACrCC,QAAAA,IAAI,EAAE,IAD+B;AAErCC,QAAAA,OAAO,EAAE,uBAF4B;AAGrCC,QAAAA,IAAI,EAAE;AAH+B,OAAhC,CAAD,CAAR;AAMH;AACJ,GAlBD;AAmBH,CApBM;AAqBP,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AAClC,SAAO,MAAOd,QAAP,IAAoB;AACvBA,IAAAA,QAAQ,CAACF,cAAc,CAACW,gBAAf,CAAgC;AACrCC,MAAAA,IAAI,EAAE,IAD+B;AAErCC,MAAAA,OAAO,EAAE,iBAF4B;AAGrCC,MAAAA,IAAI,EAAE;AAH+B,KAAhC,CAAD,CAAR;;AAKA,UAAMG,WAAW,GAAG,YAAY;AAE5Bf,MAAAA,QAAQ,CAACF,cAAc,CAACW,gBAAf,CAAgC;AACrCC,QAAAA,IAAI,EAAE,IAD+B;AAErCC,QAAAA,OAAO,EAAE,qBAF4B;AAGrCC,QAAAA,IAAI,EAAE;AAH+B,OAAhC,CAAD,CAAR;AAKA,YAAMV,GAAG,GAAG,MAAMC,KAAK,CAAC,2FAAD,EAA8F;AACjHa,QAAAA,MAAM,EAAE,KADyG;AAEjHC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAF2G,OAA9F,CAAvB;AAIA,YAAMV,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACH,KAZD;;AAcA,QAAI;AACA,YAAMU,WAAW,EAAjB;AACH,KAFD,CAGA,OAAOP,GAAP,EAAY;AACRR,MAAAA,QAAQ,CAACF,cAAc,CAACW,gBAAf,CAAgC;AACrCC,QAAAA,IAAI,EAAE,IAD+B;AAErCC,QAAAA,OAAO,EAAE,uBAF4B;AAGrCC,QAAAA,IAAI,EAAE;AAH+B,OAAhC,CAAD,CAAR;AAKH;AAEJ,GA/BD;AAgCH,CAjCM","sourcesContent":["import { cartActions } from \"./cart-slice\";\nimport { uiSliceActions } from \"./ui-slice\";\n\n\nexport const fetchData = () => {\n    return async (dispatch) => {\n        const fetchHandler = async () => {\n            const res = await fetch('https://redux-http-2235a-default-rtdb.asia-southeast1.firebasedatabase.app/cartItems.json')\n            const data = await res.json();\n            return data;\n        }\n        try {\n            const cartData = await fetchHandler();\n            dispatch(cartActions.replaceData(cartData))\n        }\n        catch (err) {\n            dispatch(uiSliceActions.showNotification({\n                open: true,\n                message: \"Sending request Error\",\n                type: \"Error\"\n            }));\n\n        }\n    }\n}\nexport const sendCartData = (cart) => {\n    return async (dispatch) => {\n        dispatch(uiSliceActions.showNotification({\n            open: true,\n            message: \"Sending request\",\n            type: \"warning\"\n        }));\n        const sendRequest = async () => {\n\n            dispatch(uiSliceActions.showNotification({\n                open: true,\n                message: \"Sending request dab\",\n                type: \"success\"\n            }));\n            const res = await fetch('https://redux-http-2235a-default-rtdb.asia-southeast1.firebasedatabase.app/cartItems.json', {\n                method: \"PUT\",\n                body: JSON.stringify(cart)\n            });\n            const data = await res.json();\n        };\n\n        try {\n            await sendRequest();\n        }\n        catch (err) {\n            dispatch(uiSliceActions.showNotification({\n                open: true,\n                message: \"Sending request Error\",\n                type: \"Error\"\n            }));\n        }\n\n    }\n};"]},"metadata":{},"sourceType":"module"}